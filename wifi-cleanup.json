{
  "id": "wifi-cleanup",
  "name": "Wi-Fi Cleanup (Remove Saved Networks)",
  "description": "Disconnects Wi-Fi, removes saved networks, then restarts Wi-Fi."
  "category": "Network",
  "type": "nocode",
  "version": "1.0.0",
  "author": "Cellhasher Team",
  "commands": [
    { "type": "shell", "command": "echo '=== Wi-Fi Cleanup (forget-range): START ==='" },
    { "type": "wait", "duration": 1, "description": "Initial pause" },

    { "type": "shell", "command": "echo '[List] Saved networks (pre)'" },
    { "type": "shell", "command": "cmd wifi list-networks", "continueOnError": true },
    { "type": "wait", "duration": 1 },

    { "type": "shell", "command": "echo '[Forget] Attempting cmd wifi forget-network on IDs 0..30 (no loops, expanded)'" },

    { "type": "shell", "command": "cmd wifi forget-network 0", "continueOnError": true },
    { "type": "shell", "command": "cmd wifi forget-network 1", "continueOnError": true },
    { "type": "shell", "command": "cmd wifi forget-network 2", "continueOnError": true },
    { "type": "shell", "command": "cmd wifi forget-network 3", "continueOnError": true },
    { "type": "shell", "command": "cmd wifi forget-network 4", "continueOnError": true },
    { "type": "shell", "command": "cmd wifi forget-network 5", "continueOnError": true },
    { "type": "shell", "command": "cmd wifi forget-network 6", "continueOnError": true },
    { "type": "shell", "command": "cmd wifi forget-network 7", "continueOnError": true },
    { "type": "shell", "command": "cmd wifi forget-network 8", "continueOnError": true },
    { "type": "shell", "command": "cmd wifi forget-network 9", "continueOnError": true },
    { "type": "shell", "command": "cmd wifi forget-network 10", "continueOnError": true },
    { "type": "shell", "command": "cmd wifi forget-network 11", "continueOnError": true },
    { "type": "shell", "command": "cmd wifi forget-network 12", "continueOnError": true },
    { "type": "shell", "command": "cmd wifi forget-network 13", "continueOnError": true },
    { "type": "shell", "command": "cmd wifi forget-network 14", "continueOnError": true },
    { "type": "shell", "command": "cmd wifi forget-network 15", "continueOnError": true },
    { "type": "shell", "command": "cmd wifi forget-network 16", "continueOnError": true },
    { "type": "shell", "command": "cmd wifi forget-network 17", "continueOnError": true },
    { "type": "shell", "command": "cmd wifi forget-network 18", "continueOnError": true },
    { "type": "shell", "command": "cmd wifi forget-network 19", "continueOnError": true },
    { "type": "shell", "command": "cmd wifi forget-network 20", "continueOnError": true },
    { "type": "shell", "command": "cmd wifi forget-network 21", "continueOnError": true },
    { "type": "shell", "command": "cmd wifi forget-network 22", "continueOnError": true },
    { "type": "shell", "command": "cmd wifi forget-network 23", "continueOnError": true },
    { "type": "shell", "command": "cmd wifi forget-network 24", "continueOnError": true },
    { "type": "shell", "command": "cmd wifi forget-network 25", "continueOnError": true },
    { "type": "shell", "command": "cmd wifi forget-network 26", "continueOnError": true },
    { "type": "shell", "command": "cmd wifi forget-network 27", "continueOnError": true },
    { "type": "shell", "command": "cmd wifi forget-network 28", "continueOnError": true },
    { "type": "shell", "command": "cmd wifi forget-network 29", "continueOnError": true },
    { "type": "shell", "command": "cmd wifi forget-network 30", "continueOnError": true },

    { "type": "wait", "duration": 1, "description": "Short pause before fallbacks" },

    { "type": "shell", "command": "echo '[Fallback] If forget-network is blocked on this build, also try remove-network (may be permission-gated)'" },

    { "type": "shell", "command": "cmd wifi remove-network 0", "continueOnError": true },
    { "type": "shell", "command": "cmd wifi remove-network 1", "continueOnError": true },
    { "type": "shell", "command": "cmd wifi remove-network 2", "continueOnError": true },
    { "type": "shell", "command": "cmd wifi remove-network 3", "continueOnError": true },
    { "type": "shell", "command": "cmd wifi remove-network 4", "continueOnError": true },
    { "type": "shell", "command": "cmd wifi remove-network 5", "continueOnError": true },
    { "type": "shell", "command": "cmd wifi remove-network 6", "continueOnError": true },
    { "type": "shell", "command": "cmd wifi remove-network 7", "continueOnError": true },
    { "type": "shell", "command": "cmd wifi remove-network 8", "continueOnError": true },
    { "type": "shell", "command": "cmd wifi remove-network 9", "continueOnError": true },
    { "type": "shell", "command": "cmd wifi remove-network 10", "continueOnError": true },
    { "type": "shell", "command": "cmd wifi remove-network 11", "continueOnError": true },
    { "type": "shell", "command": "cmd wifi remove-network 12", "continueOnError": true },
    { "type": "shell", "command": "cmd wifi remove-network 13", "continueOnError": true },
    { "type": "shell", "command": "cmd wifi remove-network 14", "continueOnError": true },
    { "type": "shell", "command": "cmd wifi remove-network 15", "continueOnError": true },
    { "type": "shell", "command": "cmd wifi remove-network 16", "continueOnError": true },
    { "type": "shell", "command": "cmd wifi remove-network 17", "continueOnError": true },
    { "type": "shell", "command": "cmd wifi remove-network 18", "continueOnError": true },
    { "type": "shell", "command": "cmd wifi remove-network 19", "continueOnError": true },
    { "type": "shell", "command": "cmd wifi remove-network 20", "continueOnError": true },
    { "type": "shell", "command": "cmd wifi remove-network 21", "continueOnError": true },
    { "type": "shell", "command": "cmd wifi remove-network 22", "continueOnError": true },
    { "type": "shell", "command": "cmd wifi remove-network 23", "continueOnError": true },
    { "type": "shell", "command": "cmd wifi remove-network 24", "continueOnError": true },
    { "type": "shell", "command": "cmd wifi remove-network 25", "continueOnError": true },
    { "type": "shell", "command": "cmd wifi remove-network 26", "continueOnError": true },
    { "type": "shell", "command": "cmd wifi remove-network 27", "continueOnError": true },
    { "type": "shell", "command": "cmd wifi remove-network 28", "continueOnError": true },
    { "type": "shell", "command": "cmd wifi remove-network 29", "continueOnError": true },
    { "type": "shell", "command": "cmd wifi remove-network 30", "continueOnError": true },

    { "type": "wait", "duration": 1 },

    { "type": "shell", "command": "echo '[Radio] Restart Wi-Fi to flush state'" },
    { "type": "shell", "command": "svc wifi disable", "continueOnError": true },
    { "type": "wait", "duration": 2 },
    { "type": "shell", "command": "svc wifi enable", "continueOnError": true },
    { "type": "wait", "duration": 3 },

    { "type": "shell", "command": "echo '[Verify] Saved networks (post)'" },
    { "type": "shell", "command": "cmd wifi list-networks", "continueOnError": true },

    { "type": "shell", "command": "echo '=== Wi-Fi Cleanup (forget-range): DONE ==='" }
  ],
  "effects": {
    "power": { "reboot": false, "shutdown": false },
    "security": { "modifiesLockScreen": false }
  }
}
